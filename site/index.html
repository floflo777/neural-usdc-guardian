<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dendrite</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#FFFFFF;
  --surface:#F6F8FB;
  --border:#E4E9F0;
  --text:#1A1D26;
  --dim:#5A6070;
  --muted:#9CA3B0;
  --blue:#2775CA;
  --blue-light:#5BA3E0;
  --blue-pale:#E8F1FA;
}
html,body{height:100%;overflow:hidden;background:var(--bg)}
body{font-family:'Inter',system-ui,sans-serif;color:var(--dim);-webkit-font-smoothing:antialiased}

.page{height:100vh;display:flex;flex-direction:column}

/* ── Header ── */
.hd{padding:1.6rem 3.5rem;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;border-bottom:1px solid var(--border)}
.logo{font-size:1.05rem;font-weight:700;color:var(--text);letter-spacing:0.01em;display:flex;align-items:center;gap:0.6rem}
.logo i{width:7px;height:7px;border-radius:50%;background:var(--blue)}
.hd nav a{font-size:0.85rem;color:var(--muted);text-decoration:none;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;margin-left:2rem;transition:color .25s}
.hd nav a:hover{color:var(--blue)}

/* ── Main ── */
.main{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:0 3.5rem}
.inner{display:grid;grid-template-columns:440px 1fr;gap:4.5rem;align-items:center;max-width:1200px;width:100%;position:relative;z-index:1}

/* ── Left ── */
.tag{font-size:0.85rem;font-weight:600;color:var(--blue);letter-spacing:0.14em;text-transform:uppercase;margin-bottom:2rem}
.left h1{font-size:3.4rem;font-weight:700;color:var(--text);letter-spacing:-0.035em;line-height:1.12;margin-bottom:1.8rem}
.left h1 em{font-style:normal;color:var(--blue)}
.desc{font-size:1.08rem;color:var(--dim);line-height:1.8;margin-bottom:3rem;max-width:410px}

/* ── Feed ── */
.feed{border:1px solid var(--border);border-radius:10px;background:var(--surface);overflow:hidden}
.feed-top{display:flex;align-items:center;padding:0.6rem 1rem;border-bottom:1px solid var(--border);gap:6px}
.feed-top b{width:7px;height:7px;border-radius:50%}
.feed-top b:nth-child(1){background:#FF5F57}
.feed-top b:nth-child(2){background:#FEBC2E}
.feed-top b:nth-child(3){background:#28C840}
.feed-top span{margin-left:auto;font-size:0.75rem;color:var(--muted);font-family:'JetBrains Mono',monospace}
.feed-body{padding:1.1rem 1.3rem;font-family:'JetBrains Mono',monospace;font-size:0.92rem;line-height:2.2}
.feed-row{display:flex;align-items:baseline;gap:0.8rem}
.feed-row .p{color:var(--blue);opacity:0.4;user-select:none;flex-shrink:0}
.feed-row .k{color:var(--muted);width:55px;flex-shrink:0}
.feed-row .v{color:var(--text)}
.feed-row .v.score{color:var(--blue);font-weight:500}
.badge{display:inline-block;padding:0.2rem 0.7rem;border-radius:4px;font-size:0.82rem;font-weight:600;letter-spacing:0.04em;background:var(--blue-pale);color:var(--blue)}

/* ── Right: Canvas ── */
.right{position:relative;height:480px}
canvas{position:absolute;inset:0;width:100%;height:100%}

/* ── Footer ── */
.ft{padding:1.6rem 3.5rem;border-top:1px solid var(--border);display:flex;justify-content:center;gap:5rem;flex-shrink:0}
.ft .s{text-align:center}
.ft .n{font-family:'JetBrains Mono',monospace;font-size:1.15rem;font-weight:600;color:var(--text)}
.ft .l{font-size:0.72rem;color:var(--muted);font-weight:500;text-transform:uppercase;letter-spacing:0.1em;margin-top:0.25rem}

@media(max-width:900px){
  .inner{grid-template-columns:1fr;text-align:center;gap:2rem}
  .left h1{font-size:2rem}
  .desc{margin-left:auto;margin-right:auto}
  .right{height:300px}
  .hd{padding:1rem 1.5rem}
  .ft{padding:1rem 1.5rem;gap:2rem;flex-wrap:wrap}
}
</style>
</head>
<body>
<div class="page">

<div class="hd">
  <div class="logo"><i></i>Dendrite</div>
  <nav>
    <a href="https://github.com/floflo777/neural-usdc-guardian" target="_blank">GitHub</a>
    <a href="https://github.com/floflo777/neural-usdc-guardian/blob/main/contracts/NeuralUSDCGuardian.sol" target="_blank">Contract</a>
  </nav>
</div>

<div class="main">
  <div class="inner">
    <div class="left">
      <div class="tag">On-chain neural inference</div>
      <h1>AI&nbsp;risk&nbsp;scoring<br>inside the<br><em>smart contract</em></h1>
      <p class="desc">A feedforward neural network deployed entirely in Solidity. Every USDC transfer is evaluated on-chain. No oracles. No external calls.</p>

      <div class="feed">
        <div class="feed-top"><b></b><b></b><b></b><span id="f-status">assessing...</span></div>
        <div class="feed-body">
          <div class="feed-row"><span class="p">&gt;</span><span class="k">from</span><span class="v" id="f-from">0x9F2c...4a1B</span></div>
          <div class="feed-row"><span class="p">&gt;</span><span class="k">to</span><span class="v" id="f-to">0x7a3B...8eC2</span></div>
          <div class="feed-row"><span class="p">&gt;</span><span class="k">amount</span><span class="v" id="f-amt">50 USDC</span></div>
          <div class="feed-row"><span class="p">&gt;</span><span class="k">risk</span><span class="v score" id="f-risk">18</span></div>
          <div class="feed-row"><span class="p">&gt;</span><span class="k">result</span><span class="v"><span class="badge" id="f-verdict">APPROVED</span></span></div>
        </div>
      </div>
    </div>

    <div class="right">
      <canvas id="nn"></canvas>
    </div>
  </div>
</div>

<div class="ft">
  <div class="s"><div class="n">4 &mdash; 8 &mdash; 1</div><div class="l">Topology</div></div>
  <div class="s"><div class="n">41</div><div class="l">Parameters</div></div>
  <div class="s"><div class="n">100%</div><div class="l">On-chain</div></div>
  <div class="s"><div class="n">75</div><div class="l">Tests pass</div></div>
  <div class="s"><div class="n">1e18</div><div class="l">Precision</div></div>
</div>

</div>

<script>
(function(){

var canvas = document.getElementById('nn');
var ctx = canvas.getContext('2d');
var dpr = window.devicePixelRatio || 1;
var W, H;

var BLUE = [39,117,202];
var BLUE_L = [91,163,224];
var DARK = [26,29,38];
var MUTED = [156,163,176];

function rgba(c,a){return 'rgba('+c[0]+','+c[1]+','+c[2]+','+a+')';}

function resize(){
  var r = canvas.parentElement.getBoundingClientRect();
  W = r.width; H = r.height;
  if(W<1||H<1) return;
  canvas.width = W * dpr;
  canvas.height = H * dpr;
  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  buildNodes();
}

var pad = {x:40, y:40};
function lx(col){return pad.x + [0.06,0.40,0.90][col] * (W-2*pad.x);}
function ny(total,idx){
  if(total===1) return H/2;
  return pad.y + idx*((H-2*pad.y)/(total-1));
}

var IL = ['amt','freq','trust','time'];
var N = {i:[],h:[],o:[]};

function buildNodes(){
  N.i=[];N.h=[];N.o=[];
  for(var i=0;i<4;i++) N.i.push({x:lx(0),y:ny(4,i),r:22,label:IL[i]});
  var x1=lx(1)-28, x2=lx(1)+28;
  for(var i=0;i<4;i++) N.h.push({x:x1,y:ny(4,i),r:16});
  for(var i=0;i<4;i++) N.h.push({x:x2,y:ny(4,i),r:16});
  N.o.push({x:lx(2),y:H/2,r:40});
}

/* Neural net weights (same as Solidity contract) */
var wH=[[2,0,0,0],[0,3,0,0],[0,0,-2,0],[0,0,0,2],[1.5,1.5,0,0],[0,0,-1.5,1.5],[0,0,3,0],[.5,.3,-.5,.3]];
var bH=[-2,-1.5,2,-1,-3,-.5,-1,-.3];
var wO=[.15,.12,.20,.12,.20,.25,-.70,.12];
var bO=-.30;
function fwd(f){
  var h=[];
  for(var i=0;i<8;i++){var s=bH[i];for(var j=0;j<4;j++)s+=f[j]*wH[i][j];h.push(Math.max(0,s));}
  var o=bO;for(var i=0;i<8;i++)o+=h[i]*wO[i];
  return{risk:Math.min(100,Math.max(0,Math.round((0.5+0.5*o/(1+Math.abs(o)))*100))),h:h};
}

var SC=[
  {from:'0x9F2c...4a1B',to:'0x7a3B...8eC2',amt:'50 USDC',f:[1,0.2,1,0.3]},
  {from:'0xaB12...7fD3',to:'0x4c2E...1bA9',amt:'2,400 USDC',f:[5,0,0,0]},
  {from:'0x3dF1...c8E6',to:'0x8eA4...2dB7',amt:'120 USDC',f:[2,0.6,0,0.5]},
  {from:'0x1bC7...9aF2',to:'0x6a9D...3eC8',amt:'15 USDC',f:[1,0,1,0]},
  {from:'0x5eD3...f1A4',to:'0xf2C8...6bD9',amt:'8,900 USDC',f:[10,2,0,0.95]},
  {from:'0x7fA2...d3E1',to:'0x9b3E...4cF7',amt:'200 USDC',f:[1.5,0.1,1,0.2]},
  {from:'0x2eB9...a7C5',to:'0xc4F1...8dA3',amt:'3,100 USDC',f:[6,1,0,0.8]},
];

var parts=[];
function spawn(a,b){parts.push({x:a.x,y:a.y,tx:b.x,ty:b.y,t:0,sp:0.01+Math.random()*0.008});}

var curH=[0,0,0,0,0,0,0,0],tgtH=[0,0,0,0,0,0,0,0];
var curR=18,tgtR=18,si=0,lt=0,INT=3500;

var eF=document.getElementById('f-from'),eT=document.getElementById('f-to');
var eA=document.getElementById('f-amt'),eR=document.getElementById('f-risk'),eV=document.getElementById('f-verdict');

function next(){
  var s=SC[si%SC.length];si++;
  var r=fwd(s.f);tgtR=r.risk;tgtH=r.h.slice();
  eF.textContent=s.from;eT.textContent=s.to;eA.textContent=s.amt;
  eR.textContent=r.risk;
  eV.textContent=r.risk<30?'APPROVED':r.risk<70?'TIMELOCK':'MULTI-SIG';
  for(var i=0;i<4;i++) for(var j=0;j<8;j++) if(r.h[j]>0.01) spawn(N.i[i],N.h[j]);
  setTimeout(function(){for(var j=0;j<8;j++) if(tgtH[j]>0.01) spawn(N.h[j],N.o[0]);},550);
}

function bpt(x1,y1,x2,y2,t){
  var c1=x1+(x2-x1)*.4,d1=y1,c2=x1+(x2-x1)*.6,d2=y2,u=1-t;
  return{x:u*u*u*x1+3*u*u*t*c1+3*u*t*t*c2+t*t*t*x2,y:u*u*u*y1+3*u*u*t*d1+3*u*t*t*d2+t*t*t*y2};
}
function bez(x1,y1,x2,y2,col,w){
  ctx.beginPath();ctx.moveTo(x1,y1);
  ctx.bezierCurveTo(x1+(x2-x1)*.4,y1,x1+(x2-x1)*.6,y2,x2,y2);
  ctx.strokeStyle=col;ctx.lineWidth=w;ctx.stroke();
}
function lerp(a,b,t){return a+(b-a)*t;}

function draw(now){
  if(!W||!H) return requestAnimationFrame(draw);
  if(!lt) lt=now;
  if(now-lt>INT){lt=now;next();}

  for(var i=0;i<8;i++) curH[i]=lerp(curH[i],tgtH[i],0.06);
  curR=lerp(curR,tgtR,0.08);

  ctx.clearRect(0,0,W,H);

  var mx=0.01;
  for(var i=0;i<8;i++) if(curH[i]>mx) mx=curH[i];

  /* Connections */
  for(var i=0;i<4;i++) for(var j=0;j<8;j++){
    var a=curH[j]/mx;
    bez(N.i[i].x,N.i[i].y,N.h[j].x,N.h[j].y,
      a>0.05?rgba(BLUE,0.08+a*0.2):rgba(BLUE,0.06), a>0.05?1.2:0.6);
  }
  for(var j=0;j<8;j++){
    var a=curH[j]/mx;
    bez(N.h[j].x,N.h[j].y,N.o[0].x,N.o[0].y,
      a>0.05?rgba(BLUE,0.08+a*0.2):rgba(BLUE,0.06), a>0.05?1.2:0.6);
  }

  /* Particles */
  for(var i=parts.length-1;i>=0;i--){
    var p=parts[i];p.t+=p.sp;
    var pa=p.t<0.1?p.t/0.1:p.t>0.85?(1-p.t)/0.15:1;
    if(p.t>=1){parts.splice(i,1);continue;}
    var pt=bpt(p.x,p.y,p.tx,p.ty,p.t);
    ctx.beginPath();ctx.arc(pt.x,pt.y,2.5,0,Math.PI*2);
    ctx.fillStyle=rgba(BLUE,pa*0.9);ctx.fill();
    ctx.beginPath();ctx.arc(pt.x,pt.y,8,0,Math.PI*2);
    ctx.fillStyle=rgba(BLUE_L,pa*0.12);ctx.fill();
  }

  /* Input nodes */
  for(var i=0;i<4;i++){
    var n=N.i[i];
    // Fill
    ctx.beginPath();ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
    ctx.fillStyle=rgba(BLUE,0.12);ctx.fill();
    // Stroke
    ctx.beginPath();ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
    ctx.strokeStyle=rgba(BLUE,0.5);ctx.lineWidth=1.8;ctx.stroke();
    // Label
    ctx.font='500 13px "JetBrains Mono",monospace';
    ctx.textAlign='center';ctx.textBaseline='middle';
    ctx.fillStyle=rgba(BLUE,1);ctx.fillText(n.label,n.x,n.y);
  }

  /* Hidden nodes */
  for(var j=0;j<8;j++){
    var n=N.h[j],a=curH[j]/mx;
    // Glow
    if(a>0.05){
      var g=ctx.createRadialGradient(n.x,n.y,0,n.x,n.y,n.r*3);
      g.addColorStop(0,rgba(BLUE_L,a*0.2));g.addColorStop(1,rgba(BLUE_L,0));
      ctx.beginPath();ctx.arc(n.x,n.y,n.r*3,0,Math.PI*2);ctx.fillStyle=g;ctx.fill();
    }
    // Fill
    ctx.beginPath();ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
    ctx.fillStyle=a>0.05?rgba(BLUE,0.1+a*0.15):rgba(BLUE,0.04);ctx.fill();
    // Stroke
    ctx.beginPath();ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
    ctx.strokeStyle=a>0.05?rgba(BLUE,0.35+a*0.4):rgba(BLUE,0.2);
    ctx.lineWidth=1.2;ctx.stroke();
    // Label
    ctx.font='500 11px "JetBrains Mono",monospace';
    ctx.textAlign='center';ctx.textBaseline='middle';
    ctx.fillStyle=a>0.05?rgba(BLUE,0.7+a*0.3):rgba(BLUE,0.35);
    ctx.fillText('H'+j,n.x,n.y);
  }

  /* Output node */
  var o=N.o[0];
  // Glow
  var og=ctx.createRadialGradient(o.x,o.y,0,o.x,o.y,o.r*3);
  og.addColorStop(0,rgba(BLUE_L,0.12));og.addColorStop(1,rgba(BLUE_L,0));
  ctx.beginPath();ctx.arc(o.x,o.y,o.r*3,0,Math.PI*2);ctx.fillStyle=og;ctx.fill();
  // Fill
  ctx.beginPath();ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
  ctx.fillStyle=rgba(BLUE,0.1);ctx.fill();
  // Stroke
  ctx.beginPath();ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
  ctx.strokeStyle=rgba(BLUE,0.55);ctx.lineWidth=2.2;ctx.stroke();
  // Score
  ctx.font='700 32px "JetBrains Mono",monospace';
  ctx.textAlign='center';ctx.textBaseline='middle';
  ctx.fillStyle=rgba(BLUE,0.95);
  ctx.fillText(Math.round(curR),o.x,o.y+3);
  // Label
  ctx.font='600 10px "Inter",sans-serif';
  ctx.fillStyle=rgba(MUTED,0.6);
  ctx.fillText('RISK',o.x,o.y-22);

  /* Column labels */
  ctx.font='600 10px "Inter",sans-serif';
  ctx.fillStyle=rgba(MUTED,0.35);ctx.textAlign='center';
  ctx.fillText('INPUT',N.i[0].x,22);
  ctx.fillText('HIDDEN',(N.h[0].x+N.h[4].x)/2,22);
  ctx.fillText('OUTPUT',N.o[0].x,22);

  requestAnimationFrame(draw);
}

/* Init after layout */
requestAnimationFrame(function(){
  resize();
  next();
  requestAnimationFrame(draw);
});

})();
</script>
</body>
</html>
